{% extends "django-dans-emails/base_improved.html" %}

{% block preheader %}
    <div class="preheader">Reset your password for {{ team_name|default:"your account" }}</div>
{% endblock %}

{% block content %}
    <!-- Security Notice -->
    <div style="background-color: #fef2f2; border-left: 4px solid #ef4444; padding: 16px; margin-bottom: 24px; border-radius: 4px;">
        <p style="margin: 0; color: #991b1b; font-size: 14px; font-weight: 600;">
            ðŸ”’ Password Reset Request
        </p>
    </div>

    <!-- Main Message -->
    <p style="margin: 0 0 20px 0; color: #374151; font-size: 16px; line-height: 1.6;">
        We received a request to reset the password for your account{% if team_name %} at {{ team_name }}{% endif %}.
    </p>

    <p style="margin: 0 0 24px 0; color: #374151; font-size: 16px; line-height: 1.6;">
        Click the button below to create a new password. This link will expire in <strong>{{ expiry_hours|default:"24" }} hours</strong> for security reasons.
    </p>

    <!-- Reset Button -->
    {% block cta %}
    <table role="presentation" cellpadding="0" cellspacing="0" border="0" width="100%" style="margin: 32px 0;">
        <tr>
            <td align="center">
                <a href="{{ reset_url }}" style="display: inline-block; padding: 14px 36px; background-color: #ef4444; color: #ffffff; text-decoration: none; border-radius: 6px; font-weight: 600; font-size: 16px;">
                    Reset Password
                </a>
            </td>
        </tr>
    </table>
    {% endblock %}

    <!-- Alternative Link -->
    <div style="background-color: #f9fafb; padding: 20px; border-radius: 6px; margin: 24px 0;">
        <p style="margin: 0 0 12px 0; color: #6b7280; font-size: 14px; line-height: 1.5;">
            Or copy and paste this link into your browser:
        </p>
        <p style="margin: 0; word-break: break-all; color: #3b82f6; font-size: 14px; font-family: monospace; background-color: #ffffff; padding: 12px; border: 1px solid #e5e7eb; border-radius: 4px;">
            {{ reset_url }}
        </p>
    </div>

    <!-- Security Information -->
    <div style="background-color: #f0fdf4; border: 1px solid #86efac; padding: 16px; border-radius: 6px; margin-top: 24px;">
        <h3 style="margin: 0 0 12px 0; color: #166534; font-size: 15px; font-weight: 600;">
            Security Tips
        </h3>
        <ul style="margin: 0; padding-left: 20px; color: #15803d; font-size: 14px; line-height: 1.6;">
            <li>Choose a strong, unique password</li>
            <li>Don't reuse passwords across different sites</li>
            <li>Consider using a password manager</li>
            <li>Enable two-factor authentication when available</li>
        </ul>
    </div>

    <!-- Didn't Request This? -->
    <div style="margin-top: 32px; padding: 20px; background-color: #fef3c7; border-radius: 6px;">
        <p style="margin: 0 0 8px 0; color: #92400e; font-size: 14px; font-weight: 600;">
            Didn't request this password reset?
        </p>
        <p style="margin: 0; color: #78350f; font-size: 14px; line-height: 1.5;">
            If you didn't request a password reset, please ignore this email. Your password won't be changed unless you click the link above and create a new one.
        </p>
        {% if support_email %}
        <p style="margin: 8px 0 0 0; color: #78350f; font-size: 14px; line-height: 1.5;">
            If you're concerned about your account security, please contact us at <a href="mailto:{{ support_email }}" style="color: #92400e; text-decoration: underline;">{{ support_email }}</a>
        </p>
        {% endif %}
    </div>
{% endblock %}